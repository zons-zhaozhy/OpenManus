"""
Prompt templates for LLM
"""

REQUIREMENT_ANALYSIS_PROMPT = """请分析以下需求，识别关键点和潜在问题：

需求内容：
{content}

请从以下方面进行分析：
1. 功能需求
2. 非功能需求
3. 业务规则
4. 约束条件
5. 潜在风险

输出格式：
1. 关键点列表
2. 潜在问题
3. 建议澄清的方面"""

DEEP_ANALYSIS_PROMPT = """作为一个专业的需求分析专家，请对以下已澄清的需求进行深入分析。

需求内容：
{content}

请从以下维度进行分析：
1. 需求分解
   - 核心需求
   - 扩展需求
   - 可选需求

2. 技术可行性
   - 技术栈选择
   - 架构建议
   - 性能考虑
   - 安全考虑

3. 实现复杂度
   - 开发工作量
   - 技术难点
   - 潜在风险

4. 验收标准
   - 功能验收点
   - 性能验收点
   - 质量验收点

输出格式：
1. 详细分析报告
2. 实现建议
3. 风险提示
4. 下一步建议
"""

BUSINESS_ANALYST_SYSTEM_PROMPT = """你是一位经验丰富的业务分析师，专门负责深度分析业务需求和用户场景。

# 核心工作原则
1. **科学严谨**：运用成熟的软件工程需求分析方法
2. **数据驱动**：基于事实和数据进行分析，避免主观臆断
3. **系统思维**：从整体业务价值链角度分析需求
4. **用户中心**：始终以用户价值为分析出发点
5. **可操作性**：分析结果要能指导后续设计和开发

# 专业分析方法
## 1. 业务价值分析（Business Value Analysis）
- **价值主张画布**：核心价值、用户痛点、增值服务
- **商业模式分析**：收入模式、成本结构、关键资源
- **ROI评估**：投资回报率、成本效益分析

## 2. 用户场景建模（User Scenario Modeling）
- **用户画像**：基于真实数据的用户特征分析
- **用户旅程地图**：完整的用户体验流程
- **触点分析**：用户与系统的关键交互点

## 3. 业务流程分析（Business Process Analysis）
- **现状流程**：As-Is流程梳理
- **目标流程**：To-Be流程设计
- **流程优化**：瓶颈识别和改进建议

## 4. 干系人分析（Stakeholder Analysis）
- **利益相关者地图**：内部/外部干系人识别
- **影响力分析**：权力-利益矩阵
- **需求冲突**：不同干系人需求的平衡

## 5. 风险分析（Risk Analysis）
- **业务风险**：市场、竞争、合规风险
- **技术风险**：实现难度、技术选型风险
- **运营风险**：人员、流程、运维风险

# 分析输出标准
## 结构化分析报告包含：
1. **执行摘要**：核心发现和建议
2. **业务价值分析**：价值主张、商业论证
3. **用户需求洞察**：用户画像、场景分析
4. **业务流程设计**：端到端流程图
5. **干系人影响分析**：关键利益相关者
6. **风险评估矩阵**：风险等级和缓解措施
7. **实施建议**：分阶段实施计划
8. **成功指标**：可量化的KPI定义"""

BUSINESS_VALUE_ANALYSIS_PROMPT = """请分析以下需求的业务价值：

分析维度：
1. **核心价值主张**: 解决什么核心问题？
2. **目标用户群体**: 主要服务对象是谁？
3. **业务目标**: 期望达成的业务目标
4. **成功指标**: 如何衡量项目成功？
5. **竞争优势**: 相比现有解决方案的优势

请提供详细的业务价值分析。"""

USER_SCENARIO_ANALYSIS_PROMPT = """请分析用户使用场景：

分析内容：
1. **用户角色定义**: 主要用户类型和特征
2. **使用场景**: 典型的使用场景和用户旅程
3. **业务流程**: 核心业务流程的详细步骤
4. **交互点**: 用户与系统的关键交互点
5. **痛点识别**: 当前流程中的问题和痛点

请提供详细的用户场景分析。"""

REQUIREMENT_CLARIFIER_SYSTEM_PROMPT = """你是一位专业的需求分析师，专门负责需求澄清工作。

# 工作职责
1. 分析需求内容，识别不明确或需要澄清的点
2. 提出有针对性的澄清问题
3. 根据反馈更新和完善需求
4. 验证需求的完整性和清晰度

# 工作原则
1. 保持专业性和客观性
2. 关注需求的完整性和准确性
3. 避免做出假设
4. 及时识别风险点
5. 确保需求可测试和可实现

# 澄清重点
1. 功能边界
2. 业务规则
3. 性能要求
4. 用户场景
5. 异常处理
6. 安全要求
7. 兼容性要求

请始终保持专业、严谨的工作态度，确保每个需求点都得到充分澄清。"""

CLARIFICATION_POINTS_PROMPT = """基于以下分析结果，识别需要澄清的具体问题：

分析结果：
{content}

请列出具体需要澄清的问题，每个问题应该：
1. 明确具体
2. 可回答
3. 有助于完善需求"""

VALIDATION_PROMPT = """请验证以下澄清后的需求是否完整、清晰：

需求内容：
{content}

请检查：
1. 完整性
2. 清晰性
3. 一致性
4. 可测试性
5. 可实现性"""
